/*!
 impleCode Product Reviews Scripts v1.0.0

 (c) 2022 Norbert Dreszer - https://implecode.com
 */
jQuery(document).ready(function(){jQuery(document).on("ic_tabs_initialized",function(){if(window.location.hash.indexOf("comment")>=0||window.location.hash.indexOf("respond")>=0||window.location.hash.indexOf("review")>=0){jQuery('.boxed .after-product-details .ic_tabs > h3[data-tab_id="ic_revs"]').trigger("click")}});jQuery(".review-rating.allow-edit > span").click(function(){var i=jQuery(this).data("rating");ic_apply_rating(i,jQuery(this));jQuery(this).parent("p.review-rating").find('input[name="ic_review_rating"]').val(i)});jQuery(".review-rating.allow-edit > span").hover(function(){var i=jQuery(this).data("rating");ic_apply_rating(i,jQuery(this))},function(){var i=jQuery(this).parent("p.review-rating").find('input[name="ic_review_rating"]').val();ic_apply_rating(i,jQuery(this))});jQuery("#product_reviews").on("submit",".comment-form",function(i){if(ic_validate_review(jQuery(this),1)){i.preventDefault()}});jQuery("#product_reviews form:visible").on("click keyup","*",function(){ic_validate_review(jQuery("#product_reviews form:visible"))})});function ic_validate_review(i,e){if(e===undefined&&i.find(".ic-invalid").length===0){return}var r=false;i.find(".ic-invalid").removeClass("ic-invalid");i.find(".al-box.warning").remove();var a=i.find('[name="ic_review_rating"]');if(a.length&&a.val()===""){i.find(".review-rating").before(ic_revs.no_rating);i.find(".review-rating").addClass("ic-invalid");r=true}i.find('[aria-required="true"]').each(function(){if(jQuery(this).val()===""){jQuery(this).addClass("ic-invalid");jQuery(this).after(ic_revs.no_empty);r=true}});if(r){jQuery("#product_reviews .form-submit").append(ic_revs.check_errors)}return r}function ic_apply_rating(i,e){e.parent("p.review-rating.allow-edit").find("span").removeClass("rating-on");for(var r=1;r<=i;r++){e.parent("p.review-rating.allow-edit").find("span.rate-"+r).addClass("rating-on")}var a=5-i;for(r=1;r<=a;r++){var n=r+i;e.parent("p.review-rating.allow-edit").find("span.rate-"+n).addClass("rating-off")}}